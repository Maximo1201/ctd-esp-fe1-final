{"ast":null,"code":"import { filtrarPersonajesAPI, cambiarPagina } from \"../services/personaje.services\";\nexport const filtrarPersonajesThunk = query => {\n  return async (dispatch, getState) => {\n    getState();\n    dispatch(filtrarPersonajes(query));\n\n    try {\n      const response = await filtrarPersonajesAPI(query);\n      const [personajes, info, status] = response;\n\n      if (status === 200) {\n        dispatch(filtrarPersonajesSuccessAction(personajes, info));\n      } else {\n        dispatch(filtrarPersonajesErrorAction(status));\n      }\n    } catch (e) {\n      dispatch(filtrarPersonajesErrorAction(e));\n    }\n  };\n};\nexport const cambiarPaginaThunk = url => {\n  return async (dispatch, getState) => {\n    getState();\n\n    try {\n      const [personajes, info] = await cambiarPagina(url);\n      dispatch(filtrarPersonajesSuccessAction(personajes, info));\n    } catch (e) {\n      dispatch(filtrarPersonajesErrorAction(e));\n    }\n  };\n};\nexport const filtrarPersonajes = query => {\n  return {\n    type: \"FILTRAR_PERSONAJES\",\n    query: query\n  };\n};\nexport const filtrarPersonajesSuccessAction = (personajes, paginaInfo) => {\n  return {\n    type: \"FILTRAR_PERSONAJES_SUCCESS\",\n    personajes: personajes,\n    paginaInfo: paginaInfo\n  };\n};\nexport const filtrarPersonajesErrorAction = mensaje => {\n  return {\n    type: \"FILTRAR_PERSONAJES_ERROR\",\n    mensaje: mensaje\n  };\n};","map":{"version":3,"sources":["D:/A_Trabajo/A_ESPECIALIDAD DE FRONT/parcial de front/ctd-esp-fe1-final-main/src/actions/personajesActions.ts"],"names":["filtrarPersonajesAPI","cambiarPagina","filtrarPersonajesThunk","query","dispatch","getState","filtrarPersonajes","response","personajes","info","status","filtrarPersonajesSuccessAction","filtrarPersonajesErrorAction","e","cambiarPaginaThunk","url","type","paginaInfo","mensaje"],"mappings":"AACA,SAASA,oBAAT,EAA+BC,aAA/B,QAAoD,gCAApD;AAwBA,OAAO,MAAMC,sBAAsB,GACjCC,KADoC,IAET;AAC3B,SAAO,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;AACnCA,IAAAA,QAAQ;AACRD,IAAAA,QAAQ,CAACE,iBAAiB,CAACH,KAAD,CAAlB,CAAR;;AACA,QAAI;AACF,YAAMI,QAAQ,GAAG,MAAMP,oBAAoB,CAACG,KAAD,CAA3C;AACA,YAAM,CAACK,UAAD,EAAaC,IAAb,EAAmBC,MAAnB,IAA6BH,QAAnC;;AACA,UAAIG,MAAM,KAAK,GAAf,EAAoB;AAClBN,QAAAA,QAAQ,CAACO,8BAA8B,CAACH,UAAD,EAAaC,IAAb,CAA/B,CAAR;AACD,OAFD,MAEO;AACLL,QAAAA,QAAQ,CAACQ,4BAA4B,CAACF,MAAD,CAA7B,CAAR;AACD;AACF,KARD,CAQE,OAAOG,CAAP,EAAU;AACVT,MAAAA,QAAQ,CAACQ,4BAA4B,CAACC,CAAD,CAA7B,CAAR;AACD;AACF,GAdD;AAeD,CAlBM;AAoBP,OAAO,MAAMC,kBAAkB,GAAIC,GAAD,IAAyC;AACvE,SAAO,OAAOX,QAAP,EAAiBC,QAAjB,KAA8B;AACnCA,IAAAA,QAAQ;;AACR,QAAI;AACF,YAAM,CAACG,UAAD,EAAaC,IAAb,IAAqB,MAAMR,aAAa,CAACc,GAAD,CAA9C;AACAX,MAAAA,QAAQ,CAACO,8BAA8B,CAACH,UAAD,EAAaC,IAAb,CAA/B,CAAR;AACD,KAHD,CAGE,OAAOI,CAAP,EAAU;AACVT,MAAAA,QAAQ,CAACQ,4BAA4B,CAACC,CAAD,CAA7B,CAAR;AACD;AACF,GARD;AASD,CAVI;AAYP,OAAO,MAAMP,iBAAyD,GACpEH,KADuE,IAEpE;AACH,SAAO;AACLa,IAAAA,IAAI,EAAE,oBADD;AAELb,IAAAA,KAAK,EAAEA;AAFF,GAAP;AAID,CAPM;AASP,OAAO,MAAMQ,8BAEZ,GAAG,CAACH,UAAD,EAA0BS,UAA1B,KAAqD;AACvD,SAAO;AACLD,IAAAA,IAAI,EAAE,4BADD;AAELR,IAAAA,UAAU,EAAEA,UAFP;AAGLS,IAAAA,UAAU,EAAEA;AAHP,GAAP;AAKD,CARM;AAUP,OAAO,MAAML,4BAEZ,GAAIM,OAAD,IAA8B;AAChC,SAAO;AACLF,IAAAA,IAAI,EAAE,0BADD;AAELE,IAAAA,OAAO,EAAEA;AAFJ,GAAP;AAID,CAPM","sourcesContent":["import { Action, ActionCreator, ThunkAction } from \"@reduxjs/toolkit\";\nimport { filtrarPersonajesAPI, cambiarPagina } from \"../services/personaje.services\";\nimport { IRootState } from \"../store/store\";\nimport PaginaInfo from \"../types/infoPagina.types\";\nimport Personaje from \"../types/personaje.types\";\n\nexport interface FiltrarPersonajesAction extends Action {\n  type: \"FILTRAR_PERSONAJES\";\n  query: string;\n}\n\nexport interface FiltrarPersonajesSuccessAction extends Action {\n  type: \"FILTRAR_PERSONAJES_SUCCESS\";\n  personajes: Personaje[];\n  paginaInfo: PaginaInfo;\n}\n\nexport interface FiltrarPersonajesErrorAction extends Action {\n  type: \"FILTRAR_PERSONAJES_ERROR\";\n  mensaje: string | number;\n}\n\nexport interface FiltrarPersonajesThunk\n  extends ThunkAction<void, IRootState, unknown, PersonajeActions> {}\n\nexport const filtrarPersonajesThunk = (\n  query: string\n): FiltrarPersonajesThunk => {\n  return async (dispatch, getState) => {\n    getState();\n    dispatch(filtrarPersonajes(query));\n    try {\n      const response = await filtrarPersonajesAPI(query);\n      const [personajes, info, status] = response;\n      if (status === 200) {\n        dispatch(filtrarPersonajesSuccessAction(personajes, info));\n      } else {\n        dispatch(filtrarPersonajesErrorAction(status));\n      }\n    } catch (e) {\n      dispatch(filtrarPersonajesErrorAction(e));\n    }\n  };\n};\n\nexport const cambiarPaginaThunk = (url: string): FiltrarPersonajesThunk => {\n    return async (dispatch, getState) => {\n      getState();\n      try {\n        const [personajes, info] = await cambiarPagina(url);\n        dispatch(filtrarPersonajesSuccessAction(personajes, info));\n      } catch (e) {\n        dispatch(filtrarPersonajesErrorAction(e));\n      }\n    };\n  };\n\nexport const filtrarPersonajes: ActionCreator<FiltrarPersonajesAction> = (\n  query: string\n) => {\n  return {\n    type: \"FILTRAR_PERSONAJES\",\n    query: query,\n  };\n};\n\nexport const filtrarPersonajesSuccessAction: ActionCreator<\n  FiltrarPersonajesSuccessAction\n> = (personajes: Personaje[], paginaInfo: PaginaInfo) => {\n  return {\n    type: \"FILTRAR_PERSONAJES_SUCCESS\",\n    personajes: personajes,\n    paginaInfo: paginaInfo,\n  };\n};\n\nexport const filtrarPersonajesErrorAction: ActionCreator<\n  FiltrarPersonajesErrorAction\n> = (mensaje: string | number) => {\n  return {\n    type: \"FILTRAR_PERSONAJES_ERROR\",\n    mensaje: mensaje,\n  };\n};\n\nexport type PersonajeActions =\n  | ReturnType<typeof filtrarPersonajes>\n  | ReturnType<typeof filtrarPersonajesSuccessAction>\n  | ReturnType<typeof filtrarPersonajesErrorAction>;\n"]},"metadata":{},"sourceType":"module"}